# CarrotParser

Тестовое задание. Парсит данные с [randomuser](https://randomuser.me/api) и сохраняет в бд [litedb](https://www.litedb.org/).

## Инструкция

### Подключение к бд

При открытии приложения отсутсвует подключение к базе данных. Для настройки подключения используется `File->Connection string`. Там вписывается расположение бд, при нажатии на кнопу `Save`, если нет существующей бд создается новая. При закрытии окна действие отменяется.

### Загрузка пользователей

Для загрузки пользователей перейти `Tools->Download one` или `Tools->Download 100`. Загружает одного или 100 пользователей соответственно. Для прерывания загрузки нажать F4. 

### Перенос бд

Для переноса бд перейти `Tools->Move` database и указать новое расположение файла бд.

### Поиск

Поиск по email, username или дате загрузки осуществляется через `File->Find`. В отрывшемся окне указать даты поиска (от/до) включительно, username и email. Оставить пустым, если поле при поиске не используется.

Для возврата к полному списку нажать `File->Load first page` или `File->Find` и оставить все поля пустыми.

## О программе

Использован `MVVM + WPF`, логика работы сервисов вынесена в `Application`. Для обеспечения ioc использован di, методы-расширения для IServiceCollection вынесены в классы `DependencyInjection` в обоих проектах.

Для отображения диалоговых окон используется `IDialogService`, с помощью него в app.cs регистриуются маппинги VM и View. Также есть `IWindowService`, но он в программе не используется. Отличие - `IDialogService` имеет callback и таким образом может возвращать ответ пользователя, также блокируется основное окно.